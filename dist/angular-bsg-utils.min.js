/* 
BSG utils
LA County Assessor v1.4.0
Copyright (c) 2016 Los Angeles County Assessor, http://assessor.lacounty.gov/
*/
!function(t){var e=function(t){var e=function(e,n){function r(t,e){var n=t.slice(),r=[];do r.push(e?n.splice(0,e):n.splice(0));while(n.length);return r}function i(t,e,n){return Math.min(Math.max(t,e),n)}function a(t){for(var e=[],n=0;t>n;n++)e.push(n);return e}var u=[];Object.defineProperty(this,"data",{get:function(){return u},set:function(t){u=t||[],this.pages=r(u,f.pageLength)}});var s=[];Object.defineProperty(this,"pages",{get:function(){return s},set:function(t){s=t||[],this.currentPageIndex=0,this.range=a(t.length)}}),Object.defineProperty(this,"currentRange",{get:function(){return this.range.slice(o,o+this.rangeLength)}});var g=0;Object.defineProperty(this,"currentPageIndex",{get:function(){return g},set:function(t){g=i(t,0,this.pages.length-1),o=Math.floor(g/this.rangeLength)*this.rangeLength}}),Object.defineProperty(this,"lastPageIndex",{get:function(){return this.pages.length-1}}),Object.defineProperty(this,"currentPage",{get:function(){return this.pages[this.currentPageIndex]}}),Object.defineProperty(this,"rangeLength",{get:function(){return f.rangeLength}}),Object.defineProperty(this,"pageLength",{get:function(){return f.pageLength}});var o=0;Object.defineProperty(this,"offset",{get:function(){return o}}),Object.defineProperty(this,"hasMultiplePage",{get:function(){return this.pages.length>1}}),Object.defineProperty(this,"currentRecordCount",{get:function(){return h?c:this.data.length}}),this.getInfo=function(){if(!this.currentRecordCount)return"";var t=this.currentPageIndex*this.pageLength+1,e=i(this.pageLength+t-1,0,this.currentRecordCount),n="Showing "+t+" to "+e+" of "+this.currentRecordCount+" entries.",r="(filtered from "+this.data.length+" total entries)";return n+(h?r:"")},this.shiftOffset=function(t){return arguments.length?o-=this.rangeLength:o+=this.rangeLength,o=i(o,0,this.getMaxOffset()),this.currentPageIndex=i(this.currentPageIndex,o,Math.min(o+this.rangeLength,this.pages.length)-1),o},this.getMaxOffset=function(){return Math.floor(this.lastPageIndex/this.rangeLength)*this.rangeLength},this.isAtMaxOffset=function(){return o==this.getMaxOffset()},this.shiftPage=function(t){return arguments.length?void this.currentPageIndex--:void this.currentPageIndex++},this.setFilter=function(e,n){if(0==arguments.length||!e)return this.pages=r(this.data,this.pageLength),h=!1,void(c=this.data.length);var i=t("filter")(this.data,e,n);h=!0,c=i.length,this.pages=r(i,this.pageLength)};var h,c,f={pageLength:10,rangeLength:7};angular.extend(f,n),this.data=e,h=!1,c=this.data.length};return e};t.factory("bsgPager",["$filter",e])}(function(){var t;try{t=angular.module("bsg")}catch(e){t=angular.module("bsg",[])}return t}()),function(t){var e=function(t,e){var n=function(){var n,r=e.defer();try{n=new Event("resize")}catch(i){n=t.document.createEvent("UIEvents"),n.initUIEvent("resize",!0,!1,t,0)}return t.onresize=function(){r.resolve()},t.dispatchEvent(n),r.promise},r=function(e){if(!angular.isObject(e))return null==e?"":e.toString();var n=[];for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];n.push(t.encodeURIComponent(r)+"="+t.encodeURIComponent(i||""))}return n.join("&").replace(/%20/g,"+")},i=function(n){var r=[],i=[];if(angular.isString(n))r.push(n);else{if(!angular.isArray(n)||!angular.isString(n[0]))return e.reject();r.push.apply(r,n)}return angular.forEach(r,function(n){if(angular.isString(n)){var r=angular.element(document.createElement("script"));r.attr("charset","utf-8"),r.attr("src",n);var a=angular.element(t.document.head);a.append(r);var u=e.defer();r[0].onload=function(){u.resolve()},r[0].onerror=function(){u.reject()},i.push(u.promise)}}),e.all(i)};return{triggerResize:n,param:r,addScript:i}};t.factory("bsgUtils",["$window","$q",e])}(function(){var t;try{t=angular.module("bsg")}catch(e){t=angular.module("bsg",[])}return t}()),function(t){var e=function(){return function(t){return"string"==typeof t?0==t.length?null:/^((yes)|(true)|y)$/i.test(t.trim())?"Yes":"No":null==t?null:t?"Yes":"No"}};t.filter("bsgYesno",[e])}(function(){var t;try{t=angular.module("bsg")}catch(e){t=angular.module("bsg",[])}return t}()),function(t){var e=function(t){var e=function(t,e){"A"===e[0].tagName&&(e[0].onclick=function(t){t.stopPropagation()})},n={restrict:"A",link:e};return n};t.directive("bsgNopropagate",["$window",e])}(function(){var t;try{t=angular.module("bsg")}catch(e){t=angular.module("bsg",[])}return t}());